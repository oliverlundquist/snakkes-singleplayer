<!doctype html>
<html>
  <head>
    <title>lobby</title>
  </head>
  <body ng-app="app">
    <div ng-controller="controller as vm">
      {{ vm.hey | json }}
    </div>
    <a href="lobby.html">lobby</a>
    <a href="game.html">game</a>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.13/angular.js"></script>
    <script>
        (function () {
            'use strict';

            angular.module('app', [])
                .controller('controller', controller);

            controller.$inject = ['$scope'];

            function controller($scope) {
                var vm = this;
                vm.hey = 0;

                var socket = io('/game');

                socket.on('userCount', function (userCount) {
                    // console.log(userCount);
                    vm.hey = userCount;
                    $scope.$apply();
                });
            };

        })();
    </script>
  </body>
</html>
